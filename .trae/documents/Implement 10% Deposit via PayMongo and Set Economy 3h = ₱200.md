## Current Behavior and Constraints
- QRPh uses Payment Intents with a dynamic QR that includes the amount; minimum intent amount is ₱20 (2000 centavos).
  - Source: PayMongo Payment Intent docs show minimum amount 2000 (₱20). [developers.paymongo.com/reference/the-payment-intent-object]
- Frontend creates a QRPh intent for the full booking total (`amount: paymentData.totalAmount`) in `frontend/src/PayMongoQR.jsx:55` → server converts to centavos in `backend/controllers/paymentController.js:423`.
- Webhook sets `paymentStatus = 'partial'` when paidAmount < totalAmount (`backend/controllers/webhookController.js:175–189`).
- Economy room price is seeded at ₱120/hour (`backend/addRooms.js:24–26`), and booking totals are computed as `hours * price + 12% tax` (`backend/controllers/bookingController.js:117–120`).
- My Bookings shows the raw `paymentStatus` string (`frontend/src/MyBookings.jsx:231–233`).
- The QR page currently shows a static image, not the dynamic QR generated by the Payment Intent (`frontend/src/PayMongoQR.jsx:129`).

## What You Asked
- Use a 10% deposit and ensure it meets PayMongo’s minimum (₱20).
- Set Economy price such that 3 hours total is ₱200, so 10% deposit is ₱20.
- Verify DB updates (`paymentStatus`) and that My Bookings shows the booking as paid in partial.

## Proposed Changes
1. Pricing
- Update Economy per-hour price to make 3 hours total exactly ₱200 with 12% tax:
  - Compute `price_per_hour = 200 / (3 * 1.12) ≈ 59.523` and update Economy rooms.
  - Change seed in `backend/addRooms.js` from 120 to ≈59.523 and run a short one-off script to update existing Economy rooms.
- Remove the test-only override that forces Economy 3-hour total to ₱10 (`frontend/src/Rooms.jsx:110–115`).

2. Deposit Amount
- Change the QR creation to charge the deposit instead of full total:
  - In `frontend/src/PayMongoQR.jsx:55`, set `amount: Math.max(20, Math.round(paymentData.totalAmount * 0.10))` (server already converts pesos → centavos at `backend/controllers/paymentController.js:423`).
  - This guarantees the intent respects PayMongo’s minimum and yields ₱20 for a ₱200 total.

3. Dynamic QR Rendering
- Retrieve and display the dynamic QR image from the Payment Intent rather than a static placeholder:
  - After intent creation, call PayMongo’s GET Payment Intent using the stored `paymentDetails.paymongoPaymentIntentId` (`backend/controllers/paymentController.js:468–470`) and return `next_action.code.image_url` to the frontend via `getPayMongoPaymentDetails` (`backend/controllers/paymentController.js:364–373`).
  - Update `frontend/src/PayMongoQR.jsx:129` to render the returned `image_url`.

4. Status and Labels
- Keep webhook logic as-is; it already marks `partial` when paid < total (`backend/controllers/webhookController.js:175–189`).
- In My Bookings, map `paymentStatus === 'partial'` to display text "paid in partial" (`frontend/src/MyBookings.jsx:231–233`).

## Test Plan
- Create a 3-hour Economy booking:
  - Confirm UI total reads ₱200 and booking `totalAmount` in DB matches (`backend/controllers/bookingController.js:117–120`).
- Initiate PayMongo QR:
  - Verify the POST body from `PayMongoQR.jsx` sends `amount: 20` and the server returns a Payment Intent ID (`backend/controllers/paymentController.js:452–470`).
  - Show the dynamic QR image on the QR page.
- Webhook simulation (since PayMongo warns QRPh test codes are live):
  - POST a `payment.paid` webhook payload with `attributes.amount = 2000` to `/webhooks/paymongo`.
  - Confirm booking document now has `paymentAmount ≈ 20` and `paymentStatus = 'partial'` (`backend/controllers/webhookController.js:175–189`).
- My Bookings:
  - Ensure the card shows `Payment Status: paid in partial` and booking remains pending/confirmed appropriately (`frontend/src/MyBookings.jsx:231–235`).

## Notes
- Minimum amount reference: Payment Intent docs specify minimum 2000 (₱20). Using a deposit keeps QRPh intent valid and sets partial status correctly.
- If you prefer an integer hourly price, we can set ₱60/hour (3h total ≈ ₱201.60; 10% deposit ≈ ₱20.16) and still use `Math.max(20, round(10%))` for the intent.
- Optional: expose `paid vs remaining` to the frontend to show remaining balance owed after deposit.
